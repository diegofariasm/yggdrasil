#!/usr/bin/env bash

# Directory
dwm_dir="$HOME/.config/dwm/dwm_xresources"
dmenu_dir="$HOME/.config/dwm/dmenu_xresources"
xresources_dir="$HOME/.config/dwm"
wallpaper_dir="$HOME/.config/dwm/wallpaper"
dwm_luastatus_dir="$HOME/.config/dwm/luastatus/colorscheme"

prompt="dmenu -l 9"

# for restarting dwm
dwm_pid="$(pidof dwm)"

# Theme
cancel="窱 Cancel"
theme1=" Catppuccin (Macchiato)"
theme2=" Cozy-Night"
theme3=" Cozy-Night Warm"
theme4=" Dracula"
theme5=" Gruvbox"
theme6=" Nord"

# Variable to pass to dmenu or rofi
option="$cancel\n$theme1\n$theme2\n$theme3\n$theme4\n$theme5\n$theme6"


theme_change()
{
	cp -f ${dwm_dir}/$1 ${dwm_dir}/theme
	cp -f ${dmenu_dir}/$1 ${dmenu_dir}/theme
	cp -f ${dwm_luastatus_dir}/$1.lua ${dwm_luastatus_dir}/color.lua
	
	
	xrdb -merge -I$HOME ${xresources_dir}/.Xresources # reload Xresources

  # calls xrdb function in dwm
  xsetroot -name "fsignal:2"
  # update luastatus
  kill -9 $(pidof luastatus)

}

select="$(echo -e "$option" | $prompt -p "Choose a theme: " )"
case $select in
  $theme1)
		feh --bg-fill ${wallpaper_dir}/pixelart_night_stars_clouds_trees_cozy.png
		theme_change catppuccin_macchiato
		;;
	$theme2)
		feh --bg-fill ${wallpaper_dir}/pixelart_night_train_cozy_gas.png
		theme_change cozy-night
		;;
	$theme3)
		feh --bg-fill ${wallpaper_dir}/pixelart_night_train_cozy_gas_warm-color.png
		theme_change cozy-night_warm
		;;
    $theme4)
		feh --bg-fill ${wallpaper_dir}/pixelart_arabian_palace_princess.png
		theme_change dracula
		;;
	$theme5)
		feh --bg-fill ${wallpaper_dir}/pixelart_house_chibi_person_game.png
		theme_change gruvbox
		;;
	$theme6)
		feh --bg-fill ${wallpaper_dir}/pixelart_medicine_flower_reminder_nord.png
		theme_change nord
		;;
	esac





























